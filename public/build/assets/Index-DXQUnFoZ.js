import{r as m,j as e,Q as h,S as n}from"./app-RFMOYwLW.js";import{A as g}from"./AuthenticatedLayout-C45zV6mZ.js";import{P as u}from"./PrimaryButton-BSFnI4xe.js";import{D as y}from"./DangerButton-yGha3L9D.js";import"./transition-DtXBfAIA.js";function b({auth:d,users:a}){const[i,r]=m.useState(!1),l=t=>{r(!0),n.put(route("admin.users.approve",t),{},{onFinish:()=>r(!1)})},x=t=>{r(!0),n.put(route("admin.users.reject",t),{},{onFinish:()=>r(!1)})},c=t=>{const s={admin:"bg-red-100 text-red-800",vendedora:"bg-blue-100 text-blue-800",financeiro:"bg-green-100 text-green-800",finance_admin:"bg-yellow-100 text-yellow-800",production_admin:"bg-purple-100 text-purple-800"},p={admin:"Admin",vendedora:"Vendedora",financeiro:"Financeiro",finance_admin:"Admin Financeiro",production_admin:"Admin Produção"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s[t]||"bg-gray-100 text-gray-800"}`,children:p[t]||t})},o=t=>t?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Aprovado"}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Pendente"});return e.jsxs(g,{user:d.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Gerenciar Usuários"}),children:[e.jsx(h,{title:"Gerenciar Usuários"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Função"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data de Cadastro"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aprovado por"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.data.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:t.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c(t.role)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o(t.approved)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString("pt-BR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.approved_by?t.approved_by.name:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.role==="vendedora"&&e.jsx("div",{className:"flex space-x-2",children:t.approved?e.jsx(y,{onClick:()=>x(t.id),disabled:i,className:"text-xs",children:"Revogar"}):e.jsx(u,{onClick:()=>l(t.id),disabled:i,className:"text-xs",children:"Aprovar"})})})]},t.id))})]})}),a.links&&a.links.length>3&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:a.links.map((t,s)=>e.jsx("button",{onClick:()=>t.url&&n.get(t.url),disabled:!t.url,className:`relative inline-flex items-center px-4 py-2 text-sm font-medium ${t.active?"z-10 bg-pink-50 border-pink-500 text-pink-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${t.url?"":"cursor-not-allowed opacity-50"} ${s===0?"rounded-l-md":""} ${s===a.links.length-1?"rounded-r-md":""} border`,dangerouslySetInnerHTML:{__html:t.label}},s))})})]})})})})]})}export{b as default};
