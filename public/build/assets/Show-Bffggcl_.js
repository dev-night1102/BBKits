import{j as e,Q as c}from"./app-B2Nxg0cu.js";import{A as x}from"./AuthenticatedLayout-D7JqdPC0.js";import"./transition-5jTyyVuc.js";function j({sale:t}){const n=s=>{const r={pendente:"bg-yellow-100 text-yellow-800",aprovado:"bg-green-100 text-green-800",recusado:"bg-red-100 text-red-800",cancelado:"bg-gray-100 text-gray-800",estornado:"bg-purple-100 text-purple-800"},o={pendente:"Pendente",aprovado:"Aprovado",recusado:"Recusado",cancelado:"Cancelado",estornado:"Estornado"};return e.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${r[s]}`,children:o[s]})},d=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),m=s=>new Date(s).toLocaleDateString("pt-BR"),a=s=>new Date(s).toLocaleString("pt-BR"),i=s=>({pix:"PIX",boleto:"Boleto",cartao:"Cartão",dinheiro:"Dinheiro"})[s]||s;return e.jsxs(x,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Detalhes da Venda"}),children:[e.jsx(c,{title:`Venda #${t.id} - BBKits`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-4xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Venda #",t.id]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Registrada em ",a(t.created_at)]})]}),e.jsx("div",{children:n(t.status)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Informações da Venda"}),e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Vendedora"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:t.user.name})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Cliente"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:t.client_name})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Forma de Pagamento"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:i(t.payment_method)})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Data do Pagamento"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:m(t.payment_date)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Valores"}),e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Valor Total do Pedido"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:d(t.total_amount)})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Valor do Frete"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:d(t.shipping_amount)})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Valor Recebido"}),e.jsx("dd",{className:"text-lg font-semibold text-green-600",children:d(t.received_amount)})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Base para Comissão"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:d(t.received_amount-t.shipping_amount)})]})]})]})]}),t.notes&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Observações"}),e.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-md",children:t.notes})]}),t.payment_receipt&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Comprovante de Pagamento"}),e.jsxs("a",{href:`/storage/${t.payment_receipt}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Ver Comprovante"]})]}),t.status==="aprovado"&&t.approved_by&&e.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-md",children:[e.jsx("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"Venda Aprovada"}),e.jsxs("p",{className:"text-sm text-green-700",children:["Aprovada em ",a(t.approved_at)," por ",t.approved_by.name]})]}),t.status==="recusado"&&t.rejected_by&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md",children:[e.jsx("h4",{className:"text-sm font-medium text-red-900 mb-2",children:"Venda Recusada"}),e.jsxs("p",{className:"text-sm text-red-700 mb-2",children:["Recusada em ",a(t.rejected_at)," por ",t.rejected_by.name]}),t.rejection_reason&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-900",children:"Motivo:"}),e.jsx("p",{className:"text-sm text-red-700",children:t.rejection_reason})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Voltar"})})]})})})})]})}export{j as default};
